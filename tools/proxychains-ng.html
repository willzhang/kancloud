<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>proxychains-ng - willblog</title>
    
    
        <script src="../asset/theme.js"></script>
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"book":{"id":"q5wy4m"},"summary":[{"title":"","articles":[{"title":"前言","ref":"README.md","path":"README.html","children":[]},{"title":"VPN教程","ref":"vpn\/README.md","path":"vpn\/README.html","children":[{"title":"trojan","ref":"vpn\/trojan.md","path":"vpn\/trojan.html","children":[]},{"title":"v2ray","ref":"vpn\/v2ray.md","path":"vpn\/v2ray.html","children":[]},{"title":"pptp","ref":"vpn\/pptp.md","path":"vpn\/pptp.html","children":[]},{"title":"l2tp","ref":"vpn\/l2tp.md","path":"vpn\/l2tp.html","children":[]},{"title":"fpr","ref":"fpr.md","path":"fpr.html","children":[]},{"title":"kcptun","ref":"vpn\/kcptun.md","path":"vpn\/kcptun.html","children":[]},{"title":"proxifier","ref":"vpn\/proxifier.md","path":"vpn\/proxifier.html","children":[]},{"title":"goproxy","ref":"vpn\/goproxy.md","path":"vpn\/goproxy.html","children":[]},{"title":"docker安装ssr","ref":"vpn\/docker.md","path":"vpn\/docker.html","children":[]},{"title":"shadowsocks","ref":"vpn\/shadowsocks.md","path":"vpn\/shadowsocks.html","children":[]},{"title":"clash","ref":"vpn\/clash.md","path":"vpn\/clash.html","children":[]},{"title":"openvpn","ref":"vpn\/openvpn.md","path":"vpn\/openvpn.html","children":[]},{"title":"vpn代理","ref":"vpn\/proxy.md","path":"vpn\/proxy.html","children":[]}]},{"title":"常用工具","ref":"tools\/README.md","path":"tools\/README.html","children":[{"title":"natapp","ref":"tools\/natapp.md","path":"tools\/natapp.html","children":[]},{"title":"brook","ref":"tools\/brook.md","path":"tools\/brook.html","children":[]},{"title":"ngrok","ref":"tools\/ngrok.md","path":"tools\/ngrok.html","children":[]},{"title":" go-socks5-proxy","ref":"tools\/ go-socks5-proxy.md","path":"tools\/-go-socks5-proxy.html","children":[]},{"title":"proxychains-ng","ref":"tools\/proxychains-ng.md","path":"tools\/proxychains-ng.html","children":[]}]},{"title":"博客文章","ref":"blogs\/README.md","path":"blogs\/README.html","children":[{"title":"linux安装mysql","ref":"blogs\/mysql.md","path":"blogs\/mysql.html","children":[]},{"title":"linux安装docker","ref":"blogs\/docker.md","path":"blogs\/docker.html","children":[]},{"title":"linux安装openjdk","ref":"blogs\/openjdk.md","path":"blogs\/openjdk.html","children":[]},{"title":"linux安装kubernetes","ref":"blogs\/kubernetes.md","path":"blogs\/kubernetes.html","children":[]}]}]}],"config":{"theme":"maxime","title":"willblog","root":"\/","plugins":["lunrjs","highlight"],"pluginsConfig":{"theme-classic":{"navs":[{"title":"test","url":"test.com"},{"title":"tes1","url":"test1.com"}]}}},"file":{"path":"tools\/proxychains-ng.html","content":"## proxychains-ng\n\nProxyChains 是一个强制应用的 TCP 连接通过代理的工具，支持 Tor、HTTP、与 Socks 代理。与 sshuttle 不同的是，ProxyChains 只会将当前应用的 TCP 连接转发至代理，而非全局代理。\n\ngithub地址：\n<https:\/\/github.com\/rofl0r\/proxychains-ng>\n<https:\/\/github.com\/haad\/proxychains>\n<http:\/\/proxychains.sourceforge.net\/>\n\nproxychains ng（新一代）是一个预加载程序，它在动态链接的程序中钩住对套接字的调用，并通过一个或多个socks\/http代理重定向它。继续未维护的proxychains项目。sf.net页面当前未更新，请改用github发布页面中的版本。\n\n如果您的 Linux 机器在代理服务器后面，那么您可以安装 Proxychains 包以通过给定的代理地址访问互联网。Proxychains 是一个开源软件，它通过 TOR（默认情况下）、SOCKS4、SOCKS5 和 HTTP 等代理强制给定应用程序的任何 TCP 连接。\n\nlinux下代理一般是通过http_proxy和https_proxy这两个环境变量，但是很多软件并不使用这两个变量，导致流量无法走代理。 在不使用vpn的前提下，linux并没有转发所有流量的真全局代理。但是可以用proxychains-ng为程序指定走代 理，proxychains-ng是proxychains的加强版，主要有以下功能：\n\n* 支持http\/https\/socks4\/socks5\n\n* 支持认证\n\n* 远端dns查询\n\n* 多种代理模式\n\n不足：\n\n* 不支持udp\/icmp转发\n* 少部分程序和在后台运行的可能无法代理]\n\nproxychains-ng支持多种代理模式：\n\n* dynamic_chain ：按照代理列表顺序自动选取可用代理\n* strict_chain ：按照代理列表顺序使用代理，所有代理必须可用\n* round_robin_chain ：轮询模式，自动跳过不可用代理\n* random_chain ：随机模式\n\nyum安装\n\n```\ndnf install -y epel-release\ndnf install -y proxychains-ng\n```\n\n编译安装：\n\n```\nwget https:\/\/ftp.barfooze.de\/pub\/sabotage\/tarballs\/proxychains-ng-4.15.tar.xz\ntar -xf proxychains-ng-4.15.tar.xz\ncd proxychains-ng-4.15\/\n\ndnf install -y gcc\n.\/configure --prefix=\/usr --sysconfdir=\/etc\nmake && make install\nmake install-config\n```\n\n创建配置文件，搭配clash使用\n\n```\ncat >\/etc\/proxychains.conf<<EOF\ndynamic_chain\nchain_len = 1\nproxy_dns\nquiet_mode\nremote_dns_subnet 224\ntcp_read_time_out 15000\ntcp_connect_time_out 8000\n[ProxyList]\nsocks5  127.0.0.1 7890\nEOF\n```\n\n使用方法：\n```\nproxychains4 程序 参数\n```\n测试连接\n```\nproxychains4 curl ip.cn\nproxychains4 curl ipinfo.io\nproxychains4 wget -qO- http:\/\/ipecho.net\/plain ; echo\nproxychains4 telnet google.com 80\nproxychains4 wget https:\/\/www.google.com\n\nproxychains4 git clone https:\/\/github.com\/rofl0r\/proxychains-ng\nproxychains4 apt-get update\nproxychains4 npm install\n```\n\n这样用每次都要在命令前输入proxychains4，比较麻烦，可以用proxychains4代理一个shell，在shell中执行的命令就会自动使用代理了，例如：\n\n```\nproxychains4  -q \/bin\/bash\nwget https:\/\/www.google.com\n```\n\ndocker方式安装\n```\ndocker run -d --name proxychains-ng \\\n  --restart always \\\n  -p 7890:7890 \\\n cheyoust\/proxychains-ng:4.14\n```\n\n也有例外，这样使用并没有任何效果：\n\n```\nproxychains4 ping google.com\n\n[proxychains] config file found: \/etc\/proxychains.conf\n[proxychains] preloading \/usr\/local\/lib\/libproxychains4.dylib\nPING google.com (172.217.27.142): 56 data bytes\nRequest timeout for icmp_seq 0\nRequest timeout for icmp_seq 1\nRequest timeout for icmp_seq 2\nRequest timeout for icmp_seq 3\nRequest timeout for icmp_seq 4\n```\n\n因为 proxychains 只会代理 TCP 连接，而 ping 使用的是 ICMP。记住这一点即可。\n","meta":{"mtime":""}},"options":{}}
</script>

<script src="https://jsdelivr.topthink.com/npm/lodash@4.17/lodash.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react@17/umd/react.production.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react-dom@17/umd/react-dom.production.min.js"></script>

<script src="../asset/index.js"></script>

<script src="../asset/plugins/highlight/index.js"></script>

<script src="../asset/plugins/lunrjs/index.js"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
